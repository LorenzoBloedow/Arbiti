import Arbiti from "@arbiti/next";
import React from "react";

function Logo() {
	return (
		<svg
			width="363"
			height="331"
			viewBox="0 0 363 331"
			fill="none"
			xmlns="http://www.w3.org/2000/svg"
		>
			<mask
				id="path-1-outside-1_1_25"
				maskUnits="userSpaceOnUse"
				x="9.92409"
				y="18"
				width="341"
				height="293"
				fill="black"
			>
				<rect
					fill="white"
					x="9.92409"
					y="18"
					width="341"
					height="293"
				/>
				<path
					fillRule="evenodd"
					clipRule="evenodd"
					d="M330.477 300.25C338.236 300.25 343.04 291.797 339.068 285.131L189.091 33.4182C185.213 26.9096 175.787 26.9096 171.909 33.4182L21.9321 285.131C17.9605 291.797 22.7636 300.25 30.5228 300.25H330.477ZM182.219 71.8939C181.444 70.5894 179.556 70.5894 178.781 71.8939L59.7527 272.228C58.9606 273.562 59.9213 275.25 61.4721 275.25H299.528C301.079 275.25 302.039 273.562 301.247 272.228L182.219 71.8939Z"
				/>
			</mask>
			<path
				fillRule="evenodd"
				clipRule="evenodd"
				d="M330.477 300.25C338.236 300.25 343.04 291.797 339.068 285.131L189.091 33.4182C185.213 26.9096 175.787 26.9096 171.909 33.4182L21.9321 285.131C17.9605 291.797 22.7636 300.25 30.5228 300.25H330.477ZM182.219 71.8939C181.444 70.5894 179.556 70.5894 178.781 71.8939L59.7527 272.228C58.9606 273.562 59.9213 275.25 61.4721 275.25H299.528C301.079 275.25 302.039 273.562 301.247 272.228L182.219 71.8939Z"
				fill="#D9D9D9"
			/>
			<path
				d="M178.781 71.8939L170.184 66.786L170.184 66.786L178.781 71.8939ZM182.219 71.8939L190.816 66.786L190.816 66.786L182.219 71.8939ZM59.7527 272.228L68.3497 277.336L68.3497 277.336L59.7527 272.228ZM301.247 272.228L309.844 267.121L309.844 267.121L301.247 272.228ZM21.9321 285.131L13.3414 280.013L21.9321 285.131ZM339.068 285.131L347.659 280.013L339.068 285.131ZM171.909 33.4182L163.319 28.2996L171.909 33.4182ZM180.5 38.5367L330.477 290.25L347.659 280.013L197.681 28.2996L180.5 38.5367ZM30.5228 290.25L180.5 38.5367L163.319 28.2996L13.3414 280.013L30.5228 290.25ZM330.477 290.25H30.5228V310.25H330.477V290.25ZM187.378 77.0018C184.277 82.22 176.723 82.2201 173.622 77.0018L190.816 66.786C186.166 58.9586 174.834 58.9588 170.184 66.786L187.378 77.0018ZM68.3497 277.336L187.378 77.0018L170.184 66.786L51.1556 267.121L68.3497 277.336ZM61.4721 265.25C67.675 265.25 71.5181 272.004 68.3497 277.336L51.1556 267.121C46.403 275.12 52.1676 285.25 61.4721 285.25V265.25ZM299.528 265.25H61.4721V285.25H299.528V265.25ZM292.65 277.336C289.482 272.004 293.325 265.25 299.528 265.25V285.25C308.832 285.25 314.597 275.12 309.844 267.121L292.65 277.336ZM173.622 77.0018L292.65 277.336L309.844 267.121L190.816 66.786L173.622 77.0018ZM13.3414 280.013C5.39823 293.344 15.0043 310.25 30.5228 310.25V290.25C30.4925 290.25 30.4759 290.248 30.471 290.247C30.466 290.247 30.4683 290.247 30.4761 290.249C30.4838 290.251 30.4935 290.254 30.5042 290.259C30.5147 290.264 30.524 290.269 30.5317 290.273C30.547 290.282 30.5509 290.288 30.5466 290.283C30.5445 290.281 30.5409 290.277 30.5365 290.271C30.532 290.265 30.5273 290.258 30.5228 290.25C30.5183 290.242 30.5146 290.234 30.5118 290.228C30.5089 290.221 30.5073 290.216 30.5065 290.213C30.5049 290.207 30.5073 290.213 30.5075 290.231C30.5075 290.239 30.507 290.25 30.5055 290.261C30.5041 290.273 30.502 290.283 30.4999 290.291C30.4978 290.299 30.4967 290.301 30.4986 290.296C30.5005 290.291 30.5073 290.276 30.5228 290.25L13.3414 280.013ZM330.477 290.25C330.493 290.276 330.499 290.291 330.501 290.296C330.503 290.301 330.502 290.299 330.5 290.291C330.498 290.283 330.496 290.273 330.494 290.261C330.493 290.25 330.493 290.239 330.493 290.231C330.493 290.213 330.495 290.207 330.494 290.213C330.493 290.215 330.491 290.221 330.488 290.228C330.485 290.234 330.482 290.242 330.477 290.25C330.473 290.258 330.468 290.265 330.464 290.271C330.459 290.277 330.456 290.281 330.453 290.283C330.449 290.288 330.453 290.282 330.468 290.273C330.476 290.269 330.485 290.264 330.496 290.259C330.507 290.254 330.516 290.251 330.524 290.249C330.532 290.247 330.534 290.247 330.529 290.247C330.524 290.248 330.507 290.25 330.477 290.25V310.25C345.996 310.25 355.602 293.344 347.659 280.013L330.477 290.25ZM197.681 28.2996C189.925 15.2824 171.075 15.2824 163.319 28.2996L180.5 38.5367C180.514 38.5131 180.523 38.5011 180.526 38.4976C180.529 38.494 180.528 38.4958 180.522 38.5009C180.517 38.506 180.51 38.5121 180.502 38.5183C180.493 38.5245 180.485 38.5295 180.478 38.5334C180.464 38.5412 180.458 38.5419 180.463 38.5406C180.466 38.5399 180.471 38.5389 180.477 38.5381C180.484 38.5372 180.492 38.5367 180.5 38.5367C180.508 38.5367 180.516 38.5372 180.523 38.5381C180.529 38.5389 180.534 38.5399 180.537 38.5406C180.542 38.5419 180.536 38.5411 180.522 38.5334C180.515 38.5295 180.507 38.5245 180.498 38.5183C180.49 38.5121 180.483 38.506 180.478 38.5009C180.472 38.4958 180.471 38.494 180.474 38.4976C180.477 38.5011 180.486 38.5131 180.5 38.5367L197.681 28.2996Z"
				fill="black"
				mask="url(#path-1-outside-1_1_25)"
			/>
			<circle
				cx="43.5"
				cy="287.5"
				r="38.5"
				fill="#D9D9D9"
				stroke="black"
				strokeWidth="10"
			/>
			<circle
				cx="319.5"
				cy="287.5"
				r="38.5"
				fill="#D9D9D9"
				stroke="black"
				strokeWidth="10"
			/>
			<circle
				cx="179.5"
				cy="43.5"
				r="38.5"
				fill="#D9D9D9"
				stroke="black"
				strokeWidth="10"
			/>
		</svg>
	);
}

const userId = "next-15-example";
export default function Example() {
	const [notificationTitle, setNotificationTitle] = React.useState("");
	const notification = Arbiti.useNotification();

	React.useEffect(() => {
		if (notification.isInit) {
			notification.registerUser(userId);
		}
	}, [notification.isInit]);

	const handleSubmit = (e: React.FormEvent) => {
		e.preventDefault();
		Arbiti.sendNotification({
			title: notificationTitle,
			message: "Welcome to Arbiti! ðŸŽ‰",
			userId,
		});

		setNotificationTitle("");
	};

	return (
		<div
			style={{
				backgroundColor: "black",
				color: "white",
				minHeight: "100vh",
				display: "flex",
				flexDirection: "column",
				alignItems: "center",
				justifyContent: "center",
				padding: "20px",
				boxSizing: "border-box",
				position: "relative",
				overflow: "hidden",
			}}
		>
			<div
				style={{
					position: "absolute",
					top: 0,
					left: 0,
					width: "100%",
					height: "100%",
					opacity: 0.5,
					background: "linear-gradient(45deg, #00f, #f0f)",
					filter: "blur(100px)",
					zIndex: 0,
				}}
				id="background"
			/>

			<div
				style={{
					position: "relative",
					zIndex: 1,
					textAlign: "center",
					width: "100%",
					maxWidth: "600px",
				}}
			>
				{/* Logo placeholder */}
				<div
					style={{
						width: "100px",
						height: "100px",
						margin: "0 auto 30px",
						display: "flex",
						alignItems: "center",
						justifyContent: "center",
						fontSize: "24px",
						fontWeight: "bold",
					}}
				>
					<Logo />
				</div>

				<h1
					style={{
						fontSize: "2.5rem",
						marginBottom: "5px",
						fontWeight: "bold",
					}}
				>
					Push notification built for developers
				</h1>

				<p
					style={{
						fontSize: "1.2rem",
						marginBottom: "50px",
						opacity: 0.8,
					}}
				>
					Enter your notification title below
				</p>

				<form
					onSubmit={handleSubmit}
					style={{
						display: "flex",
						flexDirection: "column",
						alignItems: "center",
					}}
				>
					<input
						type="text"
						value={notificationTitle}
						onChange={(e) => setNotificationTitle(e.target.value)}
						placeholder="The title for your awesome notification"
						style={{
							width: "100%",
							padding: "15px",
							fontSize: "1rem",
							backgroundColor: "rgba(255, 255, 255, 0.1)",
							border: "none",
							borderRadius: "999px",
							color: "white",
							marginBottom: "20px",
							textAlign: "center",
						}}
					/>
					<button
						type="submit"
						style={{
							padding: "8px 30px",
							fontSize: "1rem",
							backgroundColor: "#7559ff",
							color: "white",
							border: "none",
							borderRadius: "999px",
							cursor: "pointer",
							transition: "all 0.3s ease",
							position: "relative",
							overflow: "hidden",
						}}
					>
						Send Notification
						<span
							style={{
								position: "absolute",
								top: "-50%",
								left: "-50%",
								right: "-50%",
								bottom: "-50%",
								background:
									"radial-gradient(circle, rgba(255,255,255,0.8) 0%, rgba(255,255,255,0) 70%)",
								transform: "scale(0)",
								transition: "transform 0.5s",
							}}
						/>
					</button>
				</form>
			</div>

			<style jsx>{`
				@keyframes glow {
					0% {
						box-shadow: 0 0 5px #7559ff;
					}
					50% {
						box-shadow: 0 0 20px #7559ff, 0 0 30px #7559ff;
					}
					100% {
						box-shadow: 0 0 5px #7559ff;
					}
				}

				button:hover {
					animation: glow 1.5s infinite;
				}

				button:hover span {
					transform: scale(3);
				}

				@media (max-width: 768px) {
					h1 {
						font-size: 2rem;
					}

					p {
						font-size: 1rem;
					}

					input,
					button {
						font-size: 0.9rem;
					}
				}
			`}</style>
		</div>
	);
}
